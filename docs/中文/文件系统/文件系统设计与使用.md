## 文件系统

文件系统参考的是unix fs实现，但是针对嵌入式进行了优化。



## 设计







## 使用

```API
int fs_mount(struct superblock *sb, struct fs_blkdev *bdev);
int fs_unmount(struct superblock *sb);
int fs_format(struct superblock *sb);

int fs_mkdir(const char *path, struct inode **out);
int fs_readdir(const char *path, struct dirent *buf, int max, int *nread);

int fs_open(const char *path, int flags, struct inode **out);
int fs_read(struct inode *inode, uint32_t off, void *buf, uint32_t len);
int fs_write(struct inode *inode, uint32_t off, const void *buf, uint32_t len);
int fs_close(struct inode *inode);

int fs_truncate(struct inode *inode, uint32_t newsize);
int fs_sync(void);
```

